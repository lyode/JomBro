async function loadUserData(user) {
            // For auth-only mode, just set basic user info
            let playerName = user.displayName || user.email?.split('@')[0] || 'JomBro Player';
            
            // Clean up the name if it's an email prefix
            if (playerName && !user.displayName) {
                playerName = playerName.charAt(0).toUpperCase() + playerName.slice(1).toLowerCase();
            }
            
            appState.user = {
                ...appState.user,
                id: user.uid,
                name: playerName,
                email: user.email,
                tokens: appState.user.tokens || 1000, // Keep existing tokens or start with 1000
                level: appState.user.level || 1,
                challengesCompleted: appState.user.challengesCompleted || 0,
                streak: appState.user.streak || 0,
                globalRank: appState.user.globalRank || 999,
                badges: appState.user.badges || 0
            };
            
            updateUserStats();
            renderProfile();
        }
