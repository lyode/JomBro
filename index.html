<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <!-- iOS Specific Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="light-content">
    <meta name="apple-mobile-web-app-title" content="JomBro">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="theme-color" content="#000000">
    
    <title>JomBro - Dark Floating Interface</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
            -webkit-font-smoothing: antialiased;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Helvetica Neue', sans-serif;
            background: transparent;
            min-height: 100vh;
            min-height: 100dvh;
            color: #FFFFFF;
            overflow: hidden;
            position: relative;
            font-weight: 300;
        }

        /* Ultra Dark Floating Overlay - 95% Black */
        .dark-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(1px);
            -webkit-backdrop-filter: blur(1px);
            z-index: 1;
            animation: darkFloat 20s ease-in-out infinite;
        }

        /* Floating Light Backglow System */
        .light-backglow {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 25% 25%, rgba(64, 93, 230, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(138, 43, 226, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(0, 255, 150, 0.08) 0%, transparent 50%);
            pointer-events: none;
            z-index: 2;
            animation: backlightDrift 25s ease-in-out infinite;
        }

        /* Floating Light Lines */
        .light-lines {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 3;
            overflow: hidden;
        }

        .light-line {
            position: absolute;
            width: 2px;
            height: 120px;
            background: linear-gradient(to bottom, 
                transparent, 
                rgba(255, 255, 255, 0.4), 
                rgba(0, 255, 150, 0.5), 
                rgba(255, 255, 255, 0.4), 
                transparent);
            animation: lineDrift 12s linear infinite;
            opacity: 0.8;
            box-shadow: 0 0 8px rgba(255, 255, 255, 0.3);
        }

        .light-line.diagonal {
            width: 3px;
            height: 180px;
            background: linear-gradient(45deg, 
                transparent, 
                rgba(138, 43, 226, 0.5), 
                rgba(64, 93, 230, 0.6), 
                rgba(138, 43, 226, 0.5), 
                transparent);
            animation: diagonalDrift 16s linear infinite;
            transform: rotate(45deg);
            box-shadow: 0 0 12px rgba(138, 43, 226, 0.4);
        }

        /* Floating Particles */
        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 4;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            box-shadow: 
                0 0 8px rgba(255, 255, 255, 0.5),
                0 0 15px rgba(0, 255, 150, 0.3);
            animation: particleFloat 18s linear infinite;
        }

        .particle.blue {
            background: rgba(64, 93, 230, 0.8);
            box-shadow: 
                0 0 8px rgba(64, 93, 230, 0.6),
                0 0 15px rgba(64, 93, 230, 0.3);
            animation-duration: 22s;
        }

        .particle.purple {
            background: rgba(138, 43, 226, 0.7);
            box-shadow: 
                0 0 8px rgba(138, 43, 226, 0.5),
                0 0 15px rgba(138, 43, 226, 0.3);
            animation-duration: 20s;
        }

        .particle.green {
            background: rgba(0, 255, 150, 0.8);
            box-shadow: 
                0 0 8px rgba(0, 255, 150, 0.6),
                0 0 15px rgba(0, 255, 150, 0.3);
            animation-duration: 16s;
        }

        /* Main Container */
        .main-container {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            z-index: 10;
            display: flex;
            flex-direction: column;
        }

        /* Dark Floating Header - Ultra Transparent */
        .dark-header {
            position: fixed;
            top: env(safe-area-inset-top, 0);
            left: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px;
            padding: 14px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            z-index: 1000;
            height: 60px;
            margin-top: 12px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.05),
                0 0 40px rgba(0, 255, 150, 0.08);
            animation: headerFloat 12s ease-in-out infinite;
            transform-style: preserve-3d;
        }

        .dark-header::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                rgba(0, 255, 150, 0.3), 
                rgba(64, 93, 230, 0.3), 
                rgba(138, 43, 226, 0.3), 
                rgba(0, 255, 150, 0.3));
            border-radius: 26px;
            z-index: -1;
            opacity: 0;
            transition: all 0.6s ease;
            animation: borderGlow 8s linear infinite;
        }

        .dark-header:hover::before {
            opacity: 1;
        }

        .dark-logo {
            font-size: 24px;
            font-weight: 300;
            color: #FFFFFF;
            text-shadow: 
                0 0 20px rgba(255, 255, 255, 0.4),
                2px 2px 6px rgba(0, 0, 0, 0.9);
            animation: logoFloat 8s ease-in-out infinite;
        }

        .dark-header-icons {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        /* Enhanced Round Floating Buttons with Blue Borders and White Shadows */
        .round-btn {
            width: 40px;
            height: 40px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            border: 2px solid rgba(64, 93, 230, 0.8);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            color: #FFFFFF;
            text-shadow: 
                0 0 12px rgba(255, 255, 255, 0.5),
                2px 2px 4px rgba(0, 0, 0, 0.9);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                0 0 15px rgba(255, 255, 255, 0.2),
                0 4px 8px rgba(255, 255, 255, 0.1);
            position: relative;
            transform-style: preserve-3d;
            animation: buttonFloatUp 10s ease-in-out infinite, buttonBlink 3s ease-in-out infinite;
        }

        .round-btn:hover {
            transform: translateY(-12px) translateZ(25px) scale(1.1);
            background: rgba(0, 0, 0, 0.8);
            border-color: rgba(64, 93, 230, 1);
            box-shadow: 
                0 20px 32px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(64, 93, 230, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                0 0 25px rgba(255, 255, 255, 0.3);
        }

        .round-btn::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                rgba(255, 255, 255, 0.3), 
                rgba(0, 255, 150, 0.4), 
                rgba(64, 93, 230, 0.4), 
                rgba(255, 255, 255, 0.3));
            border-radius: 22px;
            z-index: -1;
            opacity: 0;
            transition: all 0.5s ease;
            animation: buttonBorderSpin 6s linear infinite;
        }

        .round-btn:hover {
            transform: translateY(-8px) translateZ(20px) scale(1.1);
            background: rgba(0, 0, 0, 0.8);
            box-shadow: 
                0 16px 32px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(0, 255, 150, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .round-btn:hover::before {
            opacity: 1;
        }

        .round-btn:active {
            transform: translateY(-15px) translateZ(40px) scale(1.15);
            animation: buttonActivate 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .notification-badge {
            position: absolute;
            top: -6px;
            right: -6px;
            width: 18px;
            height: 18px;
            background: linear-gradient(135deg, #FF3366, #FF6B35);
            border-radius: 9px;
            font-size: 10px;
            color: white;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid rgba(0, 0, 0, 0.8);
            box-shadow: 
                0 0 15px rgba(255, 51, 102, 0.6),
                0 4px 8px rgba(0, 0, 0, 0.3);
            animation: badgeFloat 4s ease infinite;
        }

        /* Dark Floating Stories */
        .dark-stories {
            position: fixed;
            top: calc(84px + env(safe-area-inset-top, 0));
            left: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 20px;
            padding: 16px;
            z-index: 900;
            height: 110px;
            box-shadow: 
                0 8px 32px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            animation: storiesFloat 15s ease-in-out infinite;
            transform-style: preserve-3d;
        }

        .stories-scroll {
            display: flex;
            gap: 16px;
            overflow-x: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
            padding: 4px 0;
        }

        .stories-scroll::-webkit-scrollbar { display: none; }

        .story-item {
            min-width: 74px;
            text-align: center;
        }

        .story-circle {
            width: 74px;
            height: 74px;
            border-radius: 37px;
            background: linear-gradient(45deg, 
                rgba(0, 255, 150, 0.5), 
                rgba(64, 93, 230, 0.5), 
                rgba(138, 43, 226, 0.5), 
                rgba(255, 255, 255, 0.3));
            padding: 3px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(0, 255, 150, 0.2);
            animation: storyFloat 8s ease infinite;
            transform-style: preserve-3d;
            position: relative;
        }

        .story-circle::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            background: linear-gradient(45deg, 
                rgba(255, 255, 255, 0.4), 
                rgba(0, 255, 150, 0.4), 
                rgba(64, 93, 230, 0.4), 
                rgba(255, 255, 255, 0.4));
            border-radius: 40px;
            z-index: -1;
            opacity: 0;
            transition: all 0.6s ease;
            animation: storyBorderSpin 10s linear infinite;
        }

        .story-circle:hover {
            transform: translateY(-6px) translateZ(15px) scale(1.05);
            box-shadow: 
                0 12px 24px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(0, 255, 150, 0.3);
        }

        .story-circle:hover::before {
            opacity: 1;
        }

        .story-circle:active {
            transform: translateY(-12px) translateZ(30px) scale(1.1);
            animation: storyActivate 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .story-inner {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 2px solid rgba(0, 0, 0, 0.6);
            box-shadow: inset 0 2px 4px rgba(255, 255, 255, 0.1);
        }

        .story-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            filter: brightness(1.1) contrast(1.1);
        }

        .story-name {
            font-size: 12px;
            font-weight: 400;
            color: #FFFFFF;
            text-shadow: 
                0 0 8px rgba(255, 255, 255, 0.3),
                1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        /* Main Feed - Page Flip Effect */
        .dark-feed {
            position: fixed;
            top: calc(206px + env(safe-area-inset-top, 0));
            left: 0;
            right: 0;
            bottom: calc(80px + env(safe-area-inset-bottom, 0));
            overflow: hidden;
            z-index: 100;
            padding: 0 16px;
            perspective: 1000px;
        }

        .feed-pages {
            position: relative;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
        }

        /* Static Challenge Cards - No Twisting */
        .challenge-card {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            width: calc(100% - 32px);
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            overflow: hidden;
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 60px rgba(0, 255, 150, 0.08);
            animation: cardFloatUp 18s ease-in-out infinite;
            transform-style: preserve-3d;
            transform-origin: bottom center;
            transition: transform 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .challenge-card.current {
            transform: translateZ(0px) rotateX(0deg);
            z-index: 10;
        }

        .challenge-card.next {
            transform: translateZ(-100px) rotateX(-90deg);
            z-index: 5;
        }

        .challenge-card.prev {
            transform: translateZ(-100px) rotateX(90deg);
            z-index: 5;
        }

        .challenge-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, 
                rgba(0, 255, 150, 0.05) 0%, 
                rgba(64, 93, 230, 0.03) 25%, 
                rgba(138, 43, 226, 0.05) 50%, 
                rgba(255, 255, 255, 0.02) 75%, 
                transparent 100%);
            background-size: 400% 400%;
            animation: cardGradientFlow 20s ease infinite;
            pointer-events: none;
        }

        .challenge-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(transparent 0%, transparent 70%, rgba(0, 0, 0, 0.4) 100%);
            pointer-events: none;
        }

        .challenge-card:hover {
            transform: translateY(-8px) translateZ(20px);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.7),
                inset 0 1px 0 rgba(255, 255, 255, 0.15),
                0 0 80px rgba(0, 255, 150, 0.15);
        }

        /* Floating Side Actions */
        .side-actions {
            position: absolute;
            right: 20px;
            bottom: 160px;
            display: flex;
            flex-direction: column;
            gap: 20px;
            z-index: 200;
        }

        /* Enhanced Floating Side Actions with Blue Borders and White Shadows */
        .action-btn {
            width: 52px;
            height: 52px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 2px solid rgba(0, 191, 255, 0.8);
            border-radius: 26px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 22px;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            color: #FFFFFF;
            text-shadow: 
                0 0 12px rgba(255, 255, 255, 0.4),
                1px 1px 2px rgba(0, 0, 0, 0.8);
            box-shadow: 
                0 10px 20px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.3),
                0 0 20px rgba(255, 255, 255, 0.2),
                0 6px 12px rgba(255, 255, 255, 0.1);
            animation: actionFloatUp 12s ease-in-out infinite, actionBlink 4s ease-in-out infinite;
            transform-style: preserve-3d;
            position: relative;
        }

        .action-btn:hover {
            transform: translateY(-15px) translateZ(30px) scale(1.1);
            background: rgba(0, 0, 0, 0.8);
            border-color: rgba(0, 191, 255, 1);
            box-shadow: 
                0 25px 40px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 191, 255, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.4),
                0 0 30px rgba(255, 255, 255, 0.3);
        }

        .action-btn::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                rgba(255, 255, 255, 0.3), 
                rgba(0, 255, 150, 0.4), 
                rgba(64, 93, 230, 0.4), 
                rgba(255, 255, 255, 0.3));
            border-radius: 28px;
            z-index: -1;
            opacity: 0;
            transition: all 0.6s ease;
            animation: actionBorderSpin 8s linear infinite;
        }

        .action-btn:hover {
            transform: translateY(-10px) translateZ(25px) scale(1.1);
            background: rgba(0, 0, 0, 0.8);
            box-shadow: 
                0 18px 36px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 255, 150, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
        }

        .action-btn:hover::before {
            opacity: 1;
        }

        .action-btn:active {
            transform: translateY(-18px) translateZ(50px) scale(1.2);
            animation: actionActivate 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .points-btn {
            flex-direction: column;
            background: rgba(0, 0, 0, 0.8);
            border-color: rgba(0, 255, 150, 0.4);
            height: 64px;
            padding: 8px;
            box-shadow: 
                0 10px 20px rgba(0, 0, 0, 0.4),
                0 0 25px rgba(0, 255, 150, 0.2);
        }

        .points-number {
            font-size: 14px;
            font-weight: 600;
            line-height: 1;
            color: #FFFFFF;
            text-shadow: 
                0 0 15px rgba(0, 255, 150, 0.6),
                1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        .points-label {
            font-size: 9px;
            font-weight: 400;
            color: rgba(255, 255, 255, 0.8);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        /* Challenge Content */
        .challenge-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 32px;
            z-index: 150;
        }

        .challenge-user {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 16px;
        }

        .challenge-avatar {
            width: 44px;
            height: 44px;
            border-radius: 22px;
            background: linear-gradient(45deg, 
                rgba(0, 255, 150, 0.6), 
                rgba(64, 93, 230, 0.6), 
                rgba(138, 43, 226, 0.6), 
                rgba(255, 255, 255, 0.4));
            padding: 3px;
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(0, 255, 150, 0.2);
            animation: avatarFloat 10s ease infinite;
        }

        .challenge-avatar-inner {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border: 2px solid rgba(0, 0, 0, 0.6);
        }

        .challenge-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            filter: brightness(1.2) contrast(1.1);
        }

        .challenge-username {
            color: #FFFFFF;
            font-weight: 300;
            font-size: 16px;
            text-shadow: 
                0 0 15px rgba(255, 255, 255, 0.5),
                2px 2px 6px rgba(0, 0, 0, 0.9);
        }

        .challenge-text {
            font-size: 18px;
            font-weight: 300;
            color: #FFFFFF;
            text-shadow: 
                0 0 18px rgba(255, 255, 255, 0.5),
                2px 2px 8px rgba(0, 0, 0, 0.9);
            margin-bottom: 16px;
            line-height: 1.4;
        }

        .challenge-hashtags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .challenge-hashtag {
            color: rgba(64, 93, 230, 0.9);
            font-size: 14px;
            font-weight: 400;
            text-shadow: 
                0 0 10px rgba(64, 93, 230, 0.5),
                1px 1px 2px rgba(0, 0, 0, 0.8);
            padding: 6px 12px;
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(64, 93, 230, 0.3);
            border-radius: 16px;
            cursor: pointer;
            transition: all 0.4s ease;
            backdrop-filter: blur(10px);
        }

        .challenge-hashtag:hover {
            transform: translateY(-3px) scale(1.05);
            background: rgba(0, 0, 0, 0.8);
            color: rgba(0, 255, 150, 0.9);
            border-color: rgba(0, 255, 150, 0.4);
            text-shadow: 
                0 0 12px rgba(0, 255, 150, 0.6),
                1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        .challenge-reward {
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(0, 255, 150, 0.4);
            color: #FFFFFF;
            padding: 10px 18px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            display: inline-block;
            margin-bottom: 24px;
            text-shadow: 
                0 0 12px rgba(0, 255, 150, 0.6),
                1px 1px 2px rgba(0, 0, 0, 0.8);
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(0, 255, 150, 0.2);
            animation: rewardFloat 6s ease infinite;
        }

        /* Challenge Action Buttons */
        .challenge-actions {
            display: flex;
            gap: 14px;
        }

        .challenge-btn {
            flex: 1;
            padding: 16px 20px;
            border: none;
            border-radius: 20px;
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
        }

        .challenge-btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform: translate(-50%, -50%);
            z-index: -1;
        }

        .challenge-btn:hover::before {
            width: 400px;
            height: 400px;
        }

        .btn-accept {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid rgba(0, 255, 150, 0.4);
            color: #FFFFFF;
            text-shadow: 
                0 0 12px rgba(0, 255, 150, 0.6),
                1px 1px 2px rgba(0, 0, 0, 0.8);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(0, 255, 150, 0.15);
        }

        .btn-accept:hover {
            transform: translateY(-6px) translateZ(20px) scale(1.02);
            background: rgba(0, 0, 0, 0.8);
            border-color: rgba(0, 255, 150, 0.6);
            box-shadow: 
                0 12px 24px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(0, 255, 150, 0.25);
        }

        .btn-accept:active {
            transform: translateY(-12px) translateZ(40px) scale(1.05);
            animation: acceptActivate 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .btn-decline {
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: rgba(255, 255, 255, 0.8);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.2),
                0 0 15px rgba(255, 255, 255, 0.05);
        }

        .btn-decline:hover {
            transform: translateY(-6px) translateZ(20px) scale(1.02);
            background: rgba(0, 0, 0, 0.7);
            box-shadow: 
                0 12px 24px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(255, 255, 255, 0.1);
        }

        .btn-decline:active {
            transform: translateY(-10px) translateZ(30px) scale(1.03);
        }

        /* Dark Bottom Navigation */
        .dark-nav {
            position: fixed;
            bottom: 0;
            left: 16px;
            right: 16px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px 24px 0 0;
            display: flex;
            justify-content: space-around;
            padding: 16px env(safe-area-inset-left, 0) calc(16px + env(safe-area-inset-bottom, 0)) env(safe-area-inset-right, 0);
            z-index: 1000;
            box-shadow: 
                0 -8px 32px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: navFloat 16s ease-in-out infinite;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            font-size: 11px;
            font-weight: 400;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            padding: 10px 14px;
            border-radius: 16px;
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(10px);
            transform-style: preserve-3d;
            animation: navItemFloat 12s ease-in-out infinite;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        .nav-item:active {
            transform: translateY(-8px) translateZ(25px) scale(0.95);
            animation: navActivate 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        .nav-icon {
            font-size: 22px;
            margin-bottom: 4px;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-shadow: 0 0 8px rgba(255, 255, 255, 0.2);
        }

        .nav-item.active {
            color: #FFFFFF;
            text-shadow: 
                0 0 15px rgba(0, 255, 150, 0.6),
                1px 1px 2px rgba(0, 0, 0, 0.8);
            background: rgba(0, 0, 0, 0.6);
            border: 1px solid rgba(0, 255, 150, 0.3);
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(0, 255, 150, 0.2);
            transform: translateZ(8px);
        }

        .nav-item.active .nav-icon {
            transform: scale(1.15) translateZ(5px);
            text-shadow: 
                0 0 12px rgba(0, 255, 150, 0.8),
                0 0 8px rgba(255, 255, 255, 0.3);
        }

        /* Business Highlight */
        .business-card {
            border-color: rgba(255, 193, 7, 0.4);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.6),
                inset 0 1px 0 rgba(255, 255, 255, 0.1),
                0 0 60px rgba(255, 193, 7, 0.15);
            animation: businessFloat 12s ease infinite;
        }

        .business-card .challenge-reward {
            border-color: rgba(255, 193, 7, 0.5);
            text-shadow: 
                0 0 12px rgba(255, 193, 7, 0.6),
                1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        .business-card .btn-accept {
            border-color: rgba(255, 193, 7, 0.4);
            text-shadow: 
                0 0 12px rgba(255, 193, 7, 0.6),
                1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        /* Modal System */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 2000;
            padding: 20px;
        }

        .modal.show {
            display: flex;
            animation: modalFadeIn 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .modal-content {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(30px);
            -webkit-backdrop-filter: blur(30px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 24px;
            padding: 32px;
            max-width: 90%;
            max-height: 80%;
            overflow-y: auto;
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.8),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            animation: modalContentFloat 10s ease-in-out infinite;
        }

        .modal-title {
            font-size: 22px;
            font-weight: 500;
            margin-bottom: 24px;
            text-align: center;
            color: #FFFFFF;
            text-shadow: 
                0 0 20px rgba(0, 255, 150, 0.6),
                2px 2px 4px rgba(0, 0, 0, 0.8);
        }

        .form-group {
            margin-bottom: 18px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.9);
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        .form-control {
            width: 100%;
            padding: 14px 18px;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            color: #FFFFFF;
            font-size: 14px;
            font-weight: 400;
            outline: none;
            transition: all 0.4s ease;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.6);
        }

        .form-control:focus {
            border-color: rgba(0, 255, 150, 0.5);
            background: rgba(0, 0, 0, 0.8);
            box-shadow: 0 0 25px rgba(0, 255, 150, 0.2);
        }

        .btn-primary {
            width: 100%;
            padding: 16px;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(0, 255, 150, 0.4);
            border-radius: 16px;
            color: #FFFFFF;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.5s ease;
            margin-bottom: 12px;
            text-shadow: 
                0 0 12px rgba(0, 255, 150, 0.6),
                1px 1px 2px rgba(0, 0, 0, 0.8);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(0, 255, 150, 0.15);
        }

        .btn-primary:hover {
            transform: translateY(-3px) scale(1.02);
            background: rgba(0, 0, 0, 0.9);
            box-shadow: 
                0 12px 24px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(0, 255, 150, 0.25);
        }

        .btn-secondary {
            width: 100%;
            padding: 16px;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 16px;
            color: rgba(255, 255, 255, 0.8);
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.4s ease;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
        }

        .btn-secondary:hover {
            transform: translateY(-3px) scale(1.02);
            background: rgba(0, 0, 0, 0.7);
        }

        /* Toast */
        .toast {
            position: fixed;
            top: calc(140px + env(safe-area-inset-top, 0));
            left: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(0, 255, 150, 0.3);
            color: #FFFFFF;
            padding: 14px 18px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 400;
            text-align: center;
            z-index: 3000;
            transform: translateY(-100px);
            opacity: 0;
            transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-shadow: 
                0 0 10px rgba(0, 255, 150, 0.6),
                1px 1px 2px rgba(0, 0, 0, 0.8);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                0 0 20px rgba(0, 255, 150, 0.2);
        }

        .toast.show {
            transform: translateY(0);
            opacity: 1;
        }

        /* Animations */
        @keyframes darkFloat {
            0%, 100% { opacity: 0.9; }
            50% { opacity: 0.85; }
        }

        @keyframes backlightDrift {
            0%, 100% { 
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            33% { 
                transform: translate(20px, -10px) scale(1.05);
                opacity: 0.8;
            }
            66% { 
                transform: translate(-15px, 15px) scale(0.95);
                opacity: 0.9;
            }
        }

        @keyframes lineDrift {
            0% {
                transform: translateY(-100vh) translateX(0);
                opacity: 0;
            }
            10% { opacity: 0.6; }
            90% { opacity: 0.6; }
            100% {
                transform: translateY(100vh) translateX(100px);
                opacity: 0;
            }
        }

        @keyframes diagonalDrift {
            0% {
                transform: translateY(-100vh) translateX(-100px) rotate(45deg);
                opacity: 0;
            }
            10% { opacity: 0.5; }
            90% { opacity: 0.5; }
            100% {
                transform: translateY(100vh) translateX(200px) rotate(45deg);
                opacity: 0;
            }
        }

        @keyframes particleFloat {
            0% {
                transform: translateY(100vh) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% { opacity: 0.7; }
            90% { opacity: 0.7; }
            100% {
                transform: translateY(-100px) translateX(200px) rotate(360deg);
                opacity: 0;
            }
        }

        /* Enhanced Floating Animations */
        @keyframes headerFloat {
            0%, 100% { transform: translateY(0px) translateZ(0px); }
            50% { transform: translateY(-5px) translateZ(8px); }
        }

        @keyframes storiesFloat {
            0%, 100% { transform: translateY(0px) translateZ(0px); }
            50% { transform: translateY(-4px) translateZ(6px); }
        }

        @keyframes navFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-4px); }
        }

        @keyframes logoFloat {
            0%, 100% { transform: scale(1) translateY(0px); }
            50% { transform: scale(1.03) translateY(-2px); }
        }

        @keyframes storyFloat {
            0%, 100% { transform: translateY(0px) translateZ(0px); }
            50% { transform: translateY(-4px) translateZ(4px); }
        }

        @keyframes avatarFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-3px); }
        }

        @keyframes rewardFloat {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-4px) scale(1.03); }
        }

        @keyframes navItemFloat {
            0%, 100% { transform: translateY(0px) translateZ(0px); }
            50% { transform: translateY(-3px) translateZ(3px); }
        }

        @keyframes buttonFloatUp {
            0%, 100% { transform: translateY(0px) translateZ(0px); }
            50% { transform: translateY(-6px) translateZ(6px); }
        }

        @keyframes actionFloatUp {
            0%, 100% { transform: translateY(0px) translateZ(0px); }
            50% { transform: translateY(-8px) translateZ(8px); }
        }

        @keyframes challengeBtnFloatUp {
            0%, 100% { transform: translateY(0px) translateZ(0px); }
            50% { transform: translateY(-5px) translateZ(5px); }
        }

        @keyframes cardFloatUp {
            0%, 100% { transform: translateY(0px) translateZ(0px); }
            50% { transform: translateY(-10px) translateZ(10px); }
        }

        /* Blinking Button Animations */
        @keyframes buttonBlink {
            0%, 50%, 100% { 
                border-color: rgba(64, 93, 230, 0.8);
                box-shadow: 
                    0 8px 16px rgba(0, 0, 0, 0.4),
                    inset 0 1px 0 rgba(255, 255, 255, 0.3),
                    0 0 15px rgba(255, 255, 255, 0.2);
            }
            25%, 75% { 
                border-color: rgba(64, 93, 230, 1);
                box-shadow: 
                    0 8px 16px rgba(0, 0, 0, 0.4),
                    inset 0 1px 0 rgba(255, 255, 255, 0.4),
                    0 0 25px rgba(255, 255, 255, 0.4),
                    0 0 15px rgba(64, 93, 230, 0.6);
            }
        }

        @keyframes actionBlink {
            0%, 50%, 100% { 
                border-color: rgba(0, 191, 255, 0.8);
                box-shadow: 
                    0 10px 20px rgba(0, 0, 0, 0.4),
                    inset 0 1px 0 rgba(255, 255, 255, 0.3),
                    0 0 20px rgba(255, 255, 255, 0.2);
            }
            25%, 75% { 
                border-color: rgba(0, 191, 255, 1);
                box-shadow: 
                    0 10px 20px rgba(0, 0, 0, 0.4),
                    inset 0 1px 0 rgba(255, 255, 255, 0.4),
                    0 0 30px rgba(255, 255, 255, 0.4),
                    0 0 20px rgba(0, 191, 255, 0.6);
            }
        }

        @keyframes acceptBlink {
            0%, 50%, 100% { 
                border-color: rgba(0, 255, 150, 0.8);
                box-shadow: 
                    0 8px 16px rgba(0, 0, 0, 0.3),
                    0 0 20px rgba(0, 255, 150, 0.15),
                    inset 0 1px 0 rgba(255, 255, 255, 0.3),
                    0 0 15px rgba(255, 255, 255, 0.2);
            }
            25%, 75% { 
                border-color: rgba(0, 255, 150, 1);
                box-shadow: 
                    0 8px 16px rgba(0, 0, 0, 0.3),
                    0 0 30px rgba(0, 255, 150, 0.3),
                    inset 0 1px 0 rgba(255, 255, 255, 0.4),
                    0 0 25px rgba(255, 255, 255, 0.3),
                    0 0 15px rgba(0, 255, 150, 0.8);
            }
        }

        /* Black Hole Effect Animations */
        @keyframes blackHoleRotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @keyframes blackHolePulse {
            0%, 100% { 
                width: 300px; 
                height: 300px; 
                opacity: 0.8;
            }
            50% { 
                width: 400px; 
                height: 400px; 
                opacity: 0.6;
            }
        }

        @keyframes businessFloat {
            0%, 100% { 
                box-shadow: 
                    0 20px 40px rgba(0, 0, 0, 0.6),
                    inset 0 1px 0 rgba(255, 255, 255, 0.1),
                    0 0 60px rgba(255, 193, 7, 0.15);
            }
            50% { 
                box-shadow: 
                    0 25px 50px rgba(0, 0, 0, 0.7),
                    inset 0 1px 0 rgba(255, 255, 255, 0.15),
                    0 0 80px rgba(255, 193, 7, 0.25);
            }
        }

        @keyframes badgeFloat {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(5deg); }
        }

        @keyframes borderGlow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes buttonBorderSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes actionBorderSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes storyBorderSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes cardGradientFlow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes modalFadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        @keyframes modalContentFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        /* Activation Animations */
        @keyframes buttonActivate {
            0% { transform: translateY(-15px) translateZ(40px) scale(1.15); }
            50% { 
                transform: translateY(-25px) translateZ(60px) scale(1.25); 
                filter: brightness(1.3);
            }
            100% { 
                transform: translateY(-40px) translateZ(100px) scale(0.9); 
                opacity: 0.7;
            }
        }

        @keyframes actionActivate {
            0% { transform: translateY(-18px) translateZ(50px) scale(1.2); }
            50% { 
                transform: translateY(-30px) translateZ(80px) scale(1.4); 
                filter: brightness(1.4);
            }
            100% { 
                transform: translateY(-50px) translateZ(120px) scale(0.8); 
                opacity: 0.6;
            }
        }

        @keyframes storyActivate {
            0% { transform: translateY(-12px) translateZ(30px) scale(1.1); }
            50% { 
                transform: translateY(-20px) translateZ(50px) scale(1.2); 
                filter: brightness(1.2);
            }
            100% { 
                transform: translateY(-35px) translateZ(80px) scale(0.85); 
                opacity: 0.7;
            }
        }

        @keyframes acceptActivate {
            0% { transform: translateY(-12px) translateZ(40px) scale(1.05); }
            50% { 
                transform: translateY(-20px) translateZ(60px) scale(1.15); 
                filter: brightness(1.3);
            }
            100% { 
                transform: translateY(-35px) translateZ(100px) scale(0.95); 
                opacity: 0.8;
            }
        }

        @keyframes navActivate {
            0% { transform: translateY(-8px) translateZ(25px) scale(0.95); }
            50% { 
                transform: translateY(-15px) translateZ(40px) scale(1.1); 
                filter: brightness(1.2);
            }
            100% { 
                transform: translateY(-25px) translateZ(70px) scale(0.9); 
                opacity: 0.8;
            }
        }

        /* Float Effects */
        @keyframes moneyFloat {
            0% { transform: translateY(0) scale(1); opacity: 1; }
            50% { transform: translateY(-40px) scale(1.2); opacity: 0.9; }
            100% { transform: translateY(-80px) scale(0.8); opacity: 0; }
        }

        @keyframes businessFloat {
            0% { transform: translateY(0) scale(1) rotate(0deg); opacity: 1; }
            50% { transform: translateY(-50px) scale(1.3) rotate(180deg); opacity: 0.9; }
            100% { transform: translateY(-100px) scale(0.7) rotate(360deg); opacity: 0; }
        }

        /* Responsive */
        @media (max-width: 375px) {
            .challenge-card {
                margin-bottom: 16px;
                border-radius: 20px;
            }
            
            .side-actions {
                right: 16px;
                bottom: 140px;
            }
            
            .action-btn {
                width: 48px;
                height: 48px;
                font-size: 20px;
            }
            
            .challenge-content {
                padding: 28px 24px;
            }
        }

        @media (orientation: landscape) and (max-height: 450px) {
            .dark-stories {
                height: 90px;
                padding: 12px 16px;
            }
            
            .story-circle {
                width: 64px;
                height: 64px;
            }
            
            .dark-feed {
                top: calc(186px + env(safe-area-inset-top, 0));
            }
        }
    </style>
</head>
<body>
    <!-- Black Hole Background Effect -->
    <div class="black-hole-effect"></div>

    <!-- Dark Overlay -->
    <div class="dark-overlay"></div>

    <!-- Light Backglow -->
    <div class="light-backglow"></div>

    <!-- Light Lines -->
    <div class="light-lines" id="lightLines"></div>

    <!-- Floating Particles -->
    <div class="floating-particles" id="floatingParticles"></div>

    <!-- Main Container -->
    <div class="main-container">
        
        <!-- Dark Header -->
        <div class="dark-header">
            <div class="dark-logo">JomBro</div>
            <div class="dark-header-icons">
                <div class="round-btn" onclick="navigateAction(this, 'create')">âž•</div>
                <div class="round-btn" onclick="navigateAction(this, 'notifications')">
                    ðŸ””
                    <div class="notification-badge">3</div>
                </div>
                <div class="round-btn" onclick="navigateAction(this, 'messages')">ðŸ’¬</div>
            </div>
        </div>

        <!-- Dark Stories -->
        <div class="dark-stories">
            <div class="stories-scroll">
                <div class="story-item">
                    <div class="story-circle" onclick="storyAction(this)">
                        <div class="story-inner">
                            âž•
                        </div>
                    </div>
                    <div class="story-name">Your Story</div>
                </div>
                <div class="story-item">
                    <div class="story-circle" onclick="storyAction(this)">
                        <div class="story-inner">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=74&h=74&fit=crop&crop=face" alt="Ahmad" class="story-image">
                        </div>
                    </div>
                    <div class="story-name">ahmad_rahman</div>
                </div>
                <div class="story-item">
                    <div class="story-circle" onclick="storyAction(this)">
                        <div class="story-inner">
                            <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=74&h=74&fit=crop&crop=face" alt="Mei Ling" class="story-image">
                        </div>
                    </div>
                    <div class="story-name">meilingwong</div>
                </div>
                <div class="story-item">
                    <div class="story-circle" onclick="storyAction(this)">
                        <div class="story-inner">
                            <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=74&h=74&fit=crop&crop=face" alt="Sarah" class="story-image">
                        </div>
                    </div>
                    <div class="story-name">sarahchen</div>
                </div>
                <div class="story-item">
                    <div class="story-circle" onclick="storyAction(this)">
                        <div class="story-inner">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=74&h=74&fit=crop&crop=face" alt="David" class="story-image">
                        </div>
                    </div>
                    <div class="story-name">davidkumar</div>
                </div>
            </div>
        </div>

        <!-- Dark Feed with Page Flip -->
        <div class="dark-feed">
            <div class="feed-pages" id="feedPages">
                
                <!-- Challenge Page 1 -->
                <div class="challenge-card current" data-page="0">
                    <!-- Side Actions -->
                    <div class="side-actions">
                        <div class="action-btn points-btn">
                            <div class="points-number" id="userPoints">25.4K</div>
                            <div class="points-label">PTS</div>
                        </div>
                        <div class="action-btn" onclick="likeAction(this)">â¤ï¸</div>
                        <div class="action-btn" onclick="commentAction(this)">ðŸ’¬</div>
                        <div class="action-btn" onclick="shareAction(this)">ðŸ“¤</div>
                        <div class="action-btn" onclick="saveAction(this)">ðŸ”–</div>
                    </div>

                    <!-- Challenge Content -->
                    <div class="challenge-content">
                        <div class="challenge-user">
                            <div class="challenge-avatar">
                                <div class="challenge-avatar-inner">
                                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=44&h=44&fit=crop&crop=face" alt="Ahmad">
                                </div>
                            </div>
                            <div class="challenge-username">ahmad_rahman âœ“</div>
                        </div>
                        
                        <div class="challenge-text">
                            "Go to Starbucks and ask the barista to write a poem on your cup! â˜•ï¸ðŸ“"
                        </div>
                        
                        <div class="challenge-hashtags">
                            <span class="challenge-hashtag" onclick="hashtagAction(this)">#StarbucksPoetry</span>
                            <span class="challenge-hashtag" onclick="hashtagAction(this)">#SocialChallenge</span>
                            <span class="challenge-hashtag" onclick="hashtagAction(this)">#JomBro</span>
                        </div>
                        
                        <div class="challenge-reward">+500 Points</div>
                        
                        <div class="challenge-actions">
                            <button class="challenge-btn btn-accept" onclick="acceptChallenge(1, 500, this)">
                                âœ… Accept Challenge
                            </button>
                            <button class="challenge-btn btn-decline" onclick="declineChallenge(1, this)">
                                Pass
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Challenge Page 2 - Business -->
                <div class="challenge-card next" data-page="1">
                    <div class="side-actions">
                        <div class="action-btn" onclick="likeAction(this)">â¤ï¸</div>
                        <div class="action-btn" onclick="commentAction(this)">ðŸ’¬</div>
                        <div class="action-btn" onclick="shareAction(this)">ðŸ“¤</div>
                        <div class="action-btn" onclick="saveAction(this)">ðŸ”–</div>
                    </div>

                    <div class="challenge-content">
                        <div class="challenge-user">
                            <div class="challenge-avatar" style="background: linear-gradient(45deg, rgba(255, 193, 7, 0.8), rgba(255, 107, 53, 0.8));">
                                <div class="challenge-avatar-inner">
                                    ðŸ¢
                                </div>
                            </div>
                            <div class="challenge-username">Starbucks Malaysia âœ“</div>
                        </div>
                        
                        <div class="challenge-text">
                            "ðŸ’° BUSINESS PARTNERSHIP: Complete 5 coffee challenges this week and earn REAL rewards!"
                        </div>
                        
                        <div class="challenge-hashtags">
                            <span class="challenge-hashtag" onclick="hashtagAction(this)">#StarbucksPartner</span>
                            <span class="challenge-hashtag" onclick="hashtagAction(this)">#RealRewards</span>
                            <span class="challenge-hashtag" onclick="hashtagAction(this)">#MoneyChallenge</span>
                        </div>
                        
                        <div class="challenge-reward">+2000 Points + RM50 Voucher</div>
                        
                        <div class="challenge-actions">
                            <button class="challenge-btn btn-accept" onclick="acceptBusinessChallenge(2, 2000, this)">
                                ðŸ’° Join Partnership
                            </button>
                            <button class="challenge-btn btn-decline" onclick="declineChallenge(2, this)">
                                Pass
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Challenge Page 3 -->
                <div class="challenge-card next" data-page="2">
                    <div class="side-actions">
                        <div class="action-btn" onclick="likeAction(this)">â¤ï¸</div>
                        <div class="action-btn" onclick="commentAction(this)">ðŸ’¬</div>
                        <div class="action-btn" onclick="shareAction(this)">ðŸ“¤</div>
                        <div class="action-btn" onclick="saveAction(this)">ðŸ”–</div>
                    </div>

                    <div class="challenge-content">
                        <div class="challenge-user">
                            <div class="challenge-avatar">
                                <div class="challenge-avatar-inner">
                                    <img src="https://images.unsplash.com/photo-1494790108755-2616b612b786?w=44&h=44&fit=crop&crop=face" alt="Mei Ling">
                                </div>
                            </div>
                            <div class="challenge-username">meilingwong</div>
                        </div>
                        
                        <div class="challenge-text">
                            "Find someone wearing the same color shirt as you and take a selfie together at KLCC! ðŸ¤³âœ¨"
                        </div>
                        
                        <div class="challenge-hashtags">
                            <span class="challenge-hashtag" onclick="hashtagAction(this)">#KLCC</span>
                            <span class="challenge-hashtag" onclick="hashtagAction(this)">#TwinningChallenge</span>
                            <span class="challenge-hashtag" onclick="hashtagAction(this)">#Malaysia</span>
                        </div>
                        
                        <div class="challenge-reward">+800 Points</div>
                        
                        <div class="challenge-actions">
                            <button class="challenge-btn btn-accept" onclick="acceptChallenge(3, 800, this)">
                                âœ… Accept Challenge
                            </button>
                            <button class="challenge-btn btn-decline" onclick="declineChallenge(3, this)">
                                Pass
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dark Bottom Navigation -->
        <div class="dark-nav">
            <div class="nav-item active" onclick="navAction(this, 'home')">
                <div class="nav-icon">ðŸ </div>
                <div>Home</div>
            </div>
            <div class="nav-item" onclick="navAction(this, 'search')">
                <div class="nav-icon">ðŸ”</div>
                <div>Search</div>
            </div>
            <div class="nav-item" onclick="navAction(this, 'create')">
                <div class="nav-icon">âž•</div>
                <div>Create</div>
            </div>
            <div class="nav-item" onclick="navAction(this, 'activity')">
                <div class="nav-icon">â¤ï¸</div>
                <div>Activity</div>
            </div>
            <div class="nav-item" onclick="navAction(this, 'profile')">
                <div class="nav-icon">ðŸ‘¤</div>
                <div>Profile</div>
            </div>
        </div>
    </div>

    <!-- Create Modal -->
    <div id="createModal" class="modal">
        <div class="modal-content">
            <div class="modal-title">âœ¨ Create New Challenge</div>
            
            <div class="form-group">
                <label class="form-label">Target Friend</label>
                <select class="form-control" id="challengeTarget">
                    <option value="">Choose friend...</option>
                    <option value="Ahmad Rahman">ahmad_rahman</option>
                    <option value="Mei Ling Wong">meilingwong</option>
                    <option value="Sarah Chen">sarahchen</option>
                    <option value="David Kumar">davidkumar</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Challenge Description</label>
                <textarea class="form-control" id="challengeDesc" rows="3" placeholder="Describe your epic challenge..." style="resize: vertical;"></textarea>
            </div>
            
            <div class="form-group">
                <label class="form-label">Reward Points</label>
                <select class="form-control" id="challengePoints">
                    <option value="200">200 Points (Easy)</option>
                    <option value="500">500 Points (Medium)</option>
                    <option value="800">800 Points (Hard)</option>
                    <option value="1000">1000 Points (Epic)</option>
                </select>
            </div>
            
            <div class="form-group">
                <label class="form-label">Business Partnership</label>
                <select class="form-control" id="businessPartner">
                    <option value="">No business partner</option>
                    <option value="Starbucks">Starbucks Malaysia</option>
                    <option value="McDonald's">McDonald's Malaysia</option>
                    <option value="Grab">Grab Malaysia</option>
                    <option value="Shopee">Shopee</option>
                </select>
            </div>
            
            <button class="btn-primary" onclick="createChallenge()">
                ðŸš€ Share Challenge
            </button>
            <button class="btn-secondary" onclick="hideModal('create')">
                Cancel
            </button>
        </div>
    </div>

    <!-- Toast -->
    <div id="toast" class="toast">
        <span id="toastText">Success!</span>
    </div>

    <script>
        let userPoints = 25430;
        let completedChallenges = [];
        let businessPartnerships = [];
        let currentPage = 0;
        let totalPages = 3;
        let isFlipping = false;

        // Page Flip System
        function flipToPage(targetPage) {
            if (isFlipping || targetPage < 0 || targetPage >= totalPages) return;
            
            isFlipping = true;
            const cards = document.querySelectorAll('.challenge-card');
            
            // Update page classes
            cards.forEach((card, index) => {
                card.classList.remove('current', 'next', 'prev');
                
                if (index === targetPage) {
                    card.classList.add('current');
                } else if (index > targetPage) {
                    card.classList.add('next');
                } else {
                    card.classList.add('prev');
                }
            });
            
            currentPage = targetPage;
            
            // Reset flipping flag after animation
            setTimeout(() => {
                isFlipping = false;
            }, 800);
        }

        function nextPage() {
            if (currentPage < totalPages - 1) {
                flipToPage(currentPage + 1);
                showToast(`ðŸ“„ Flipped to page ${currentPage + 1}!`);
            }
        }

        function prevPage() {
            if (currentPage > 0) {
                flipToPage(currentPage - 1);
                showToast(`ðŸ“„ Flipped back to page ${currentPage + 1}!`);
            }
        }

        // Touch/Swipe Detection for Page Flipping
        let startY = 0;
        let endY = 0;
        let minSwipeDistance = 50;

        function setupPageFlipGestures() {
            const feedContainer = document.getElementById('feedPages');
            
            feedContainer.addEventListener('touchstart', function(e) {
                startY = e.touches[0].clientY;
            }, { passive: true });
            
            feedContainer.addEventListener('touchend', function(e) {
                endY = e.changedTouches[0].clientY;
                handleSwipe();
            }, { passive: true });
            
            // Mouse events for desktop
            feedContainer.addEventListener('mousedown', function(e) {
                startY = e.clientY;
            });
            
            feedContainer.addEventListener('mouseup', function(e) {
                endY = e.clientY;
                handleSwipe();
            });
        }

        function handleSwipe() {
            const deltaY = startY - endY;
            
            if (Math.abs(deltaY) > minSwipeDistance) {
                if (deltaY > 0) {
                    // Swiped up - next page
                    nextPage();
                } else {
                    // Swiped down - previous page
                    prevPage();
                }
            }
        }

        // Create Light Lines
        function createLightLines() {
            const container = document.getElementById('lightLines');
            
            function addLine() {
                const line = document.createElement('div');
                line.className = Math.random() > 0.7 ? 'light-line diagonal' : 'light-line';
                line.style.left = Math.random() * 100 + '%';
                line.style.animationDelay = Math.random() * 8 + 's';
                
                container.appendChild(line);
                
                setTimeout(() => {
                    if (container.contains(line)) {
                        container.removeChild(line);
                    }
                }, 20000);
            }
            
            // Create initial lines
            for (let i = 0; i < 12; i++) {
                setTimeout(addLine, i * 300);
            }
            
            // Continue creating lines
            setInterval(addLine, 2500);
        }

        // Create Floating Particles
        function createFloatingParticles() {
            const container = document.getElementById('floatingParticles');
            const colors = ['', 'blue', 'purple', 'green'];
            
            function addParticle() {
                const particle = document.createElement('div');
                particle.className = `particle ${colors[Math.floor(Math.random() * colors.length)]}`;
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 6 + 's';
                
                container.appendChild(particle);
                
                setTimeout(() => {
                    if (container.contains(particle)) {
                        container.removeChild(particle);
                    }
                }, 18000);
            }
            
            // Create initial particles
            for (let i = 0; i < 30; i++) {
                setTimeout(addParticle, i * 200);
            }
            
            // Continue creating particles
            setInterval(addParticle, 1800);
        }

        // Update Points Display
        function updatePointsDisplay() {
            const pointsText = userPoints >= 1000 ? (userPoints/1000).toFixed(1) + 'K' : userPoints.toString();
            document.getElementById('userPoints').textContent = pointsText;
        }

        // Navigation Actions
        function navigateAction(element, destination) {
            if (navigator.vibrate) {
                navigator.vibrate([80, 40, 80]);
            }
            
            setTimeout(() => {
                if (destination === 'create') {
                    showModal('create');
                } else {
                    showToast(`âœ¨ Floating to ${destination} with dark elegance!`);
                }
            }, 800);
        }

        function storyAction(element) {
            if (navigator.vibrate) {
                navigator.vibrate([60, 30, 60]);
            }
            showToast('ðŸ“± Story viewed with floating dark style!');
        }

        function navAction(element, destination) {
            document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
            element.classList.add('active');
            
            if (navigator.vibrate) {
                navigator.vibrate([70, 35, 70]);
            }
            
            showToast(`ðŸš€ ${destination} section activated with floating animation!`);
        }

        // Action Functions
        function likeAction(element) {
            element.classList.toggle('liked');
            
            if (element.classList.contains('liked')) {
                element.style.color = '#FF3366';
                element.style.textShadow = '0 0 15px #FF3366, 1px 1px 2px rgba(0, 0, 0, 0.8)';
                createFloatingHeart(element);
            } else {
                element.style.color = '#FFFFFF';
                element.style.textShadow = '0 0 12px rgba(255, 255, 255, 0.4), 1px 1px 2px rgba(0, 0, 0, 0.8)';
            }
            
            if (navigator.vibrate) {
                navigator.vibrate([50, 25, 50]);
            }
            
            showToast(element.classList.contains('liked') ? 'â¤ï¸ Liked with dark floating energy!' : 'ðŸ¤ Unliked');
        }

        function commentAction(element) {
            if (navigator.vibrate) {
                navigator.vibrate([60, 30, 60]);
            }
            showToast('ðŸ’¬ Dark comments panel floating in...');
        }

        function shareAction(element) {
            if (navigator.share) {
                navigator.share({
                    title: 'JomBro Dark Floating Challenge',
                    text: 'Experience the dark floating interface! Check out this challenge!',
                    url: window.location.href
                });
            } else {
                showToast('ðŸ“¤ Shared with dark floating elegance!');
            }
            
            if (navigator.vibrate) {
                navigator.vibrate([80, 40, 80]);
            }
        }

        function saveAction(element) {
            if (navigator.vibrate) {
                navigator.vibrate([60]);
            }
            showToast('ðŸ”– Saved to your dark floating collection!');
        }

        function hashtagAction(element) {
            if (navigator.vibrate) {
                navigator.vibrate([40, 20, 40]);
            }
            showToast(`ðŸ” Exploring ${element.textContent} with dark floating search...`);
        }

        // Challenge Actions
        function acceptChallenge(id, points, element) {
            if (completedChallenges.includes(id)) return;
            
            userPoints += points;
            completedChallenges.push(id);
            updatePointsDisplay();
            
            element.style.background = 'rgba(0, 0, 0, 0.9)';
            element.style.borderColor = 'rgba(0, 255, 150, 0.6)';
            element.style.boxShadow = '0 12px 24px rgba(0, 0, 0, 0.4), 0 0 30px rgba(0, 255, 150, 0.3)';
            element.textContent = 'âœ… Accepted!';
            element.disabled = true;
            
            createFloatingPoints(element, points);
            
            if (navigator.vibrate) {
                navigator.vibrate([120, 60, 120, 60, 120]);
            }
            
            showToast(`ðŸŒŸ Challenge accepted with dark floating power! +${points} points!`);
        }

        function acceptBusinessChallenge(id, points, element) {
            if (completedChallenges.includes(id)) return;
            
            userPoints += points;
            completedChallenges.push(id);
            businessPartnerships.push({
                id: id,
                partner: 'Starbucks Malaysia',
                points: points,
                reward: 'RM50 Voucher'
            });
            updatePointsDisplay();
            
            element.style.background = 'rgba(0, 0, 0, 0.9)';
            element.style.borderColor = 'rgba(255, 193, 7, 0.6)';
            element.style.boxShadow = '0 12px 24px rgba(0, 0, 0, 0.4), 0 0 35px rgba(255, 193, 7, 0.4)';
            element.textContent = 'ðŸ’° Partnership Active!';
            element.disabled = true;
            
            createFloatingBusiness(element);
            
            if (navigator.vibrate) {
                navigator.vibrate([150, 75, 150, 75, 150, 75, 150]);
            }
            
            showToast(`ðŸ’° Business partnership activated with dark floating energy! +${points} points + RM50 voucher!`);
        }

        function declineChallenge(id, element) {
            if (navigator.vibrate) {
                navigator.vibrate([40, 20, 40]);
            }
            showToast('âœ¨ Challenge declined with dark floating grace');
        }

        // Floating Effect Creators
        function createFloatingHeart(element) {
            const rect = element.getBoundingClientRect();
            const heart = document.createElement('div');
            heart.style.position = 'fixed';
            heart.style.left = rect.left + rect.width/2 + 'px';
            heart.style.top = rect.top + rect.height/2 + 'px';
            heart.style.pointerEvents = 'none';
            heart.style.zIndex = '9999';
            heart.innerHTML = 'â¤ï¸';
            heart.style.fontSize = '24px';
            heart.style.animation = 'moneyFloat 2.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards';
            heart.style.filter = 'drop-shadow(0 0 15px #FF3366)';
            
            document.body.appendChild(heart);
            setTimeout(() => document.body.removeChild(heart), 2500);
        }

        function createFloatingPoints(element, points) {
            const rect = element.getBoundingClientRect();
            const pointsEl = document.createElement('div');
            pointsEl.style.position = 'fixed';
            pointsEl.style.left = rect.left + rect.width/2 + 'px';
            pointsEl.style.top = rect.top + 'px';
            pointsEl.style.pointerEvents = 'none';
            pointsEl.style.zIndex = '9999';
            pointsEl.innerHTML = `+${points}`;
            pointsEl.style.fontSize = '20px';
            pointsEl.style.fontWeight = '600';
            pointsEl.style.color = '#FFFFFF';
            pointsEl.style.textShadow = '0 0 15px rgba(0, 255, 150, 0.8), 2px 2px 4px rgba(0, 0, 0, 0.8)';
            pointsEl.style.animation = 'moneyFloat 3s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards';
            
            document.body.appendChild(pointsEl);
            setTimeout(() => document.body.removeChild(pointsEl), 3000);
        }

        function createFloatingBusiness(element) {
            const rect = element.getBoundingClientRect();
            const effects = ['ðŸ’°', 'ðŸ’Ž', 'â­', 'ðŸ†'];
            
            effects.forEach((emoji, index) => {
                setTimeout(() => {
                    const effect = document.createElement('div');
                    effect.style.position = 'fixed';
                    effect.style.left = (rect.left + rect.width/2 + (index * 20 - 30)) + 'px';
                    effect.style.top = rect.top + 'px';
                    effect.style.pointerEvents = 'none';
                    effect.style.zIndex = '9999';
                    effect.innerHTML = emoji;
                    effect.style.fontSize = '22px';
                    effect.style.animation = 'businessFloat 3.5s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards';
                    effect.style.filter = 'drop-shadow(0 0 12px rgba(255, 193, 7, 0.8))';
                    
                    document.body.appendChild(effect);
                    setTimeout(() => document.body.removeChild(effect), 3500);
                }, index * 250);
            });
        }

        // Modal System
        function showModal(type) {
            const modals = {
                'create': 'createModal'
            };
            
            if (modals[type]) {
                const modal = document.getElementById(modals[type]);
                if (modal) {
                    modal.classList.add('show');
                } else {
                    showToast(`âœ¨ ${type} modal floating in with dark elegance soon!`);
                }
            }
        }

        function hideModal(type) {
            const modals = {
                'create': 'createModal'
            };
            
            if (modals[type]) {
                const modal = document.getElementById(modals[type]);
                if (modal) {
                    modal.classList.remove('show');
                }
            }
        }

        function createChallenge() {
            const target = document.getElementById('challengeTarget').value;
            const desc = document.getElementById('challengeDesc').value;
            const points = document.getElementById('challengePoints').value;
            const business = document.getElementById('businessPartner').value;
            
            if (!target || !desc) {
                showToast('â— Please fill all fields with dark floating energy');
                return;
            }
            
            const cost = Math.floor(parseInt(points) * 0.6);
            if (userPoints < cost) {
                showToast('âŒ Insufficient dark floating points');
                return;
            }
            
            userPoints -= cost;
            updatePointsDisplay();
            hideModal('create');
            
            document.getElementById('challengeTarget').value = '';
            document.getElementById('challengeDesc').value = '';
            document.getElementById('businessPartner').value = '';
            
            const businessText = business ? ` with ${business} partnership` : '';
            showToast(`ðŸš€ Dark floating challenge shared with ${target}${businessText}! -${cost} points`);
            
            if (navigator.vibrate) {
                navigator.vibrate([100, 50, 100, 50, 100]);
            }
        }

        // Toast System
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastText = document.getElementById('toastText');
            toastText.textContent = message;
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 4000);
        }

        // Modal Click Outside to Close
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('modal')) {
                e.target.classList.remove('show');
            }
        });

        // Initialize App
        updatePointsDisplay();
        createLightLines();
        createFloatingParticles();
        setupPageFlipGestures();
        
        setTimeout(() => {
            showToast('ðŸŒŸ Welcome to JomBro! Swipe up/down to flip pages with black hole effects and blinking buttons!');
        }, 2000);

        setInterval(() => {
            if (Math.random() > 0.85) {
                showToast('âœ¨ Black hole effects and floating buttons refreshed!');
            }
        }, 18000);
    </script>
</body>
</html>