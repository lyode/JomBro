<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid #ddd;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 24px;
            color: #333;
        }

        .tabs {
            display: flex;
            margin-bottom: 30px;
            border-bottom: 1px solid #ddd;
        }

        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 16px;
            font-weight: bold;
            color: #777;
        }

        .tab.active {
            color: #333;
            border-bottom: 2px solid #333;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        .profile-header {
            display: flex;
            align-items: center;
            margin-bottom: 30px;
        }

        .profile-avatar {
            width: 120px; /* Increased size by 20% from original 100px */
            height: 120px; /* Increased size by 20% from original 100px */
            border-radius: 50%;
            object-fit: cover;
            margin-right: 20px;
            border: 3px solid #fff;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .profile-info {
            flex: 1;
        }

        .profile-info h2 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .profile-info p {
            color: #777;
            margin-bottom: 10px;
        }

        .stats {
            display: flex;
            margin-bottom: 30px;
        }

        .stat {
            flex: 1;
            text-align: center;
            padding: 20px;
            background-color: #fff;
            margin-right: 10px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
        }

        .stat:last-child {
            margin-right: 0;
        }

        .stat h3 {
            font-size: 24px;
            margin-bottom: 5px;
        }

        .stat p {
            color: #777;
            font-size: 14px;
        }

        .section {
            background-color: #fff;
            padding: 20px;
            margin-bottom: 30px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.05);
        }

        .section h2 {
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-control {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }

        textarea.form-control {
            height: 100px;
        }

        .upload-area {
            width: 100%;
            height: 180px; /* Landscape orientation */
            border: 2px dashed #ddd;
            border-radius: 5px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .upload-area:hover {
            background-color: #f9f9f9;
            border-color: #ccc;
        }

        .upload-area i {
            font-size: 40px;
            color: #aaa;
            margin-bottom: 10px;
        }

        .upload-area p {
            color: #777;
        }

        .buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .button {
            padding: 10px 20px;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: all 0.3s ease;
        }

        .button:hover {
            background-color: #eee;
        }

        .button img {
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }

        .ecommerce-button {
            padding: 12px 24px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            margin-right: 10px;
            transition: all 0.3s ease;
        }

        .ecommerce-button:hover {
            background-color: #45a049;
        }

        .challenges {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }

        .challenge {
            background-color: #fff;
            border-radius: 5px;
            overflow: hidden;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .challenge:hover {
            transform: translateY(-5px);
        }

        .challenge img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .challenge-content {
            padding: 15px;
        }

        .challenge-content h3 {
            margin-bottom: 10px;
        }

        .challenge-content p {
            color: #777;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .btn {
            display: inline-block;
            padding: 8px 15px;
            background-color: #333;
            color: #fff;
            border: none;
            border-radius: 3px;
            cursor: pointer;
            text-decoration: none;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background-color: #555;
        }

        @media (max-width: 768px) {
            .stats {
                flex-direction: column;
            }
            .stat {
                margin-right: 0;
                margin-bottom: 10px;
            }
            .profile-header {
                flex-direction: column;
                text-align: center;
            }
            .profile-avatar {
                margin-right: 0;
                margin-bottom: 15px;
            }
            .challenges {
                grid-template-columns: 1fr;
            }
        }

        /* Performance optimizations */
        img {
            will-change: transform;
        }
        .tab, .button, .btn, .ecommerce-button {
            will-change: background-color;
        }
        .challenge {
            will-change: transform;
        }
        
        /* Add animation performance optimization */
        @media (prefers-reduced-motion: reduce) {
            * {
                transition: none !important;
                animation: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>User Profile</h1>
            <button class="btn">Settings</button>
        </div>

        <div class="tabs">
            <button class="tab active" data-tab="profile">Profile</button>
            <button class="tab" data-tab="challenges">Challenges</button>
            <button class="tab" data-tab="settings">Settings</button>
        </div>

        <div id="profile" class="tab-content active">
            <div class="profile-header">
                <img src="https://via.placeholder.com/200" alt="Profile Picture" class="profile-avatar">
                <div class="profile-info">
                    <h2>Username</h2>
                    <p>@username</p>
                    <p>Bio: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor sapien eget.</p>
                </div>
            </div>

            <div class="stats">
                <div class="stat">
                    <h3>125</h3>
                    <p>Following</p>
                </div>
                <div class="stat">
                    <h3>1,500</h3>
                    <p>Followers</p>
                </div>
                <div class="stat">
                    <h3>48</h3>
                    <p>Challenges</p>
                </div>
                <div class="stat">
                    <h3>10k</h3>
                    <p>Points</p>
                </div>
            </div>

            <div class="section">
                <h2>Profile Information</h2>
                <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" id="name" class="form-control" placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" class="form-control" placeholder="Enter your email">
                </div>
                <div class="form-group">
                    <label for="phone">Phone</label>
                    <input type="tel" id="phone" class="form-control" placeholder="Enter your phone number">
                </div>
                <div class="form-group">
                    <label for="company">Company</label>
                    <input type="text" id="company" class="form-control" placeholder="Enter your company name">
                </div>
                <div class="form-group">
                    <label for="address">Address</label>
                    <input type="text" id="address" class="form-control" placeholder="Enter your address">
                </div>
                <div class="form-group">
                    <label for="area">Area</label>
                    <input type="text" id="area" class="form-control" placeholder="Enter your area">
                </div>
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" id="city" class="form-control" placeholder="Enter your city">
                </div>
                <div class="form-group">
                    <label for="about">Company Profile</label>
                    <textarea id="about" class="form-control" placeholder="Tell us about your company"></textarea>
                </div>

                <div class="form-group">
                    <label for="media-upload">Upload Image/Video (max 1min, landscape oriented)</label>
                    <div class="upload-area" id="media-upload">
                        <i>📁</i>
                        <p>Click to upload an image or video (max 1min)</p>
                        <p>Or drag and drop files here</p>
                    </div>
                </div>

                <div class="buttons">
                    <button class="ecommerce-button">My E-Commerce 1</button>
                    <button class="ecommerce-button">My E-Commerce 2</button>
                </div>
            </div>
        </div>

        <div id="challenges" class="tab-content">
            <div class="section">
                <h2>My Challenges</h2>
                <div class="challenges">
                    <div class="challenge">
                        <img src="https://via.placeholder.com/300x150" alt="Challenge">
                        <div class="challenge-content">
                            <h3>Fitness Challenge</h3>
                            <p>Complete 30 days of continuous exercise</p>
                            <a href="#" class="btn">View Details</a>
                        </div>
                    </div>
                    <div class="challenge">
                        <img src="https://via.placeholder.com/300x150" alt="Challenge">
                        <div class="challenge-content">
                            <h3>Reading Challenge</h3>
                            <p>Read 12 books in 12 months</p>
                            <a href="#" class="btn">View Details</a>
                        </div>
                    </div>
                    <div class="challenge">
                        <img src="https://via.placeholder.com/300x150" alt="Challenge">
                        <div class="challenge-content">
                            <h3>Coding Challenge</h3>
                            <p>Build 5 projects in a month</p>
                            <a href="#" class="btn">View Details</a>
                        </div>
                    </div>
                    <div class="challenge">
                        <img src="https://via.placeholder.com/300x150" alt="Challenge">
                        <div class="challenge-content">
                            <h3>Photography Challenge</h3>
                            <p>Take a photo every day for a month</p>
                            <a href="#" class="btn">View Details</a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>RECENT CHALLENGES</h2>
                <div class="challenges">
                    <div class="challenge">
                        <img src="https://via.placeholder.com/300x150" alt="Challenge">
                        <div class="challenge-content">
                            <h3>Meditation Challenge</h3>
                            <p>Meditate for 10 minutes every day</p>
                            <a href="#" class="btn">View Details</a>
                        </div>
                    </div>
                    <div class="challenge">
                        <img src="https://via.placeholder.com/300x150" alt="Challenge">
                        <div class="challenge-content">
                            <h3>Water Intake Challenge</h3>
                            <p>Drink 8 glasses of water daily</p>
                            <a href="#" class="btn">View Details</a>
                        </div>
                    </div>
                    <div class="challenge">
                        <img src="https://via.placeholder.com/300x150" alt="Challenge">
                        <div class="challenge-content">
                            <h3>Writing Challenge</h3>
                            <p>Write 500 words daily for a month</p>
                            <a href="#" class="btn">View Details</a>
                        </div>
                    </div>
                    <div class="challenge">
                        <img src="https://via.placeholder.com/300x150" alt="Challenge">
                        <div class="challenge-content">
                            <h3>Productivity Challenge</h3>
                            <p>Complete your todo list every day</p>
                            <a href="#" class="btn">View Details</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="settings" class="tab-content">
            <div class="section">
                <h2>Account Settings</h2>
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" class="form-control" value="username">
                </div>
                <div class="form-group">
                    <label for="new-password">New Password</label>
                    <input type="password" id="new-password" class="form-control">
                </div>
                <div class="form-group">
                    <label for="confirm-password">Confirm Password</label>
                    <input type="password" id="confirm-password" class="form-control">
                </div>
                <button class="btn">Save Changes</button>
            </div>

            <div class="section">
                <h2>Notification Settings</h2>
                <div class="form-group">
                    <label>
                        <input type="checkbox" checked> Email Notifications
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" checked> Push Notifications
                    </label>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox"> SMS Notifications
                    </label>
                </div>
                <button class="btn">Save Changes</button>
            </div>
        </div>
    </div>

    <script>
        // Performance optimized JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            // Tab functionality
            const tabButtons = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            // Use event delegation for better performance
            document.querySelector('.tabs').addEventListener('click', function(event) {
                if (event.target.classList.contains('tab')) {
                    const tabId = event.target.getAttribute('data-tab');
                    
                    // Update active tab
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    event.target.classList.add('active');
                    
                    // Show active content
                    tabContents.forEach(content => {
                        content.classList.remove('active');
                        if (content.id === tabId) {
                            content.classList.add('active');
                        }
                    });
                }
            });

            // File upload functionality with performance optimizations
            const uploadArea = document.getElementById('media-upload');
            
            if (uploadArea) {
                uploadArea.addEventListener('click', function() {
                    const input = document.createElement('input');
                    input.type = 'file';
                    input.accept = 'image/*, video/*';
                    
                    // Add a custom validation for video duration
                    input.onchange = function() {
                        if (this.files && this.files[0]) {
                            const file = this.files[0];
                            
                            // Check if it's a video
                            if (file.type.startsWith('video/')) {
                                // Create a video element to check duration
                                const video = document.createElement('video');
                                video.preload = 'metadata';
                                
                                video.onloadedmetadata = function() {
                                    window.URL.revokeObjectURL(video.src); // Clean up
                                    
                                    if (video.duration > 60) {
                                        alert('Video must be 1 minute or less.');
                                        return;
                                    }
                                    
                                    // Continue with upload processing
                                    handleFileUpload(file);
                                };
                                
                                video.src = URL.createObjectURL(file);
                            } else {
                                // Handle image upload
                                handleFileUpload(file);
                            }
                        }
                    };
                    
                    input.click();
                });
                
                // Prevent default drag behaviors
                ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                    uploadArea.addEventListener(eventName, preventDefaults, false);
                });
                
                // Handle drop
                uploadArea.addEventListener('drop', handleDrop, false);
                
                function preventDefaults(e) {
                    e.preventDefault();
                    e.stopPropagation();
                }
                
                function handleDrop(e) {
                    const dt = e.dataTransfer;
                    const file = dt.files[0];
                    
                    if (file) {
                        if (file.type.startsWith('video/')) {
                            const video = document.createElement('video');
                            video.preload = 'metadata';
                            
                            video.onloadedmetadata = function() {
                                window.URL.revokeObjectURL(video.src);
                                
                                if (video.duration > 60) {
                                    alert('Video must be 1 minute or less.');
                                    return;
                                }
                                
                                handleFileUpload(file);
                            };
                            
                            video.src = URL.createObjectURL(file);
                        } else {
                            handleFileUpload(file);
                        }
                    }
                }
                
                function handleFileUpload(file) {
                    // Display preview
                    if (file.type.startsWith('image/')) {
                        // Create image preview
                        const reader = new FileReader();
                        
                        reader.onload = function(e) {
                            uploadArea.innerHTML = `
                                <img src="${e.target.result}" alt="Preview" style="max-height: 150px; max-width: 100%;">
                                <p>${file.name}</p>
                            `;
                        };
                        
                        reader.readAsDataURL(file);
                    } else if (file.type.startsWith('video/')) {
                        // Create video preview
                        const videoPreview = document.createElement('video');
                        videoPreview.src = URL.createObjectURL(file);
                        videoPreview.controls = true;
                        videoPreview.muted = true;
                        videoPreview.style.maxHeight = '150px';
                        videoPreview.style.maxWidth = '100%';
                        
                        uploadArea.innerHTML = '';
                        uploadArea.appendChild(videoPreview);
                        uploadArea.innerHTML += `<p>${file.name}</p>`;
                        
                        // Clean up object URL after load to prevent memory leaks
                        videoPreview.onloadedmetadata = function() {
                            // Start video playback for preview
                            videoPreview.play().catch(e => console.log("Auto-play prevented:", e));
                        };
                    }
                    
                    // Here you would typically upload the file to your server
                    console.log('File ready for upload:', file.name);
                    
                    // For a real application, you would use FormData and fetch:
                    /*
                    const formData = new FormData();
                    formData.append('file', file);
                    
                    fetch('/upload', {
                        method: 'POST',
                        body: formData
                    })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Success:', data);
                    })
                    .catch(error => {
                        console.error('Error:', error);
                    });
                    */
                }
            }

            // Use IntersectionObserver for lazy loading images
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            const src = img.getAttribute('data-src');
                            if (src) {
                                img.src = src;
                                img.removeAttribute('data-src');
                            }
                            observer.unobserve(img);
                        }
                    });
                });
                
                // Convert placeholders to lazy loading
                document.querySelectorAll('img[src^="https://via.placeholder.com"]').forEach(img => {
                    const src = img.src;
                    img.setAttribute('data-src', src);
                    img.src = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=='; // tiny placeholder
                    imageObserver.observe(img);
                });
            }
            
            // Add touch support optimizations
            if ('ontouchstart' in window) {
                const buttons = document.querySelectorAll('.button, .btn, .tab, .ecommerce-button');
                buttons.forEach(button => {
                    button.addEventListener('touchstart', function() {
                        this.style.transform = 'scale(0.97)';
                    });
                    button.addEventListener('touchend', function() {
                        this.style.transform = 'scale(1)';
                    });
                });
            }
        });
    </script>
</body>
</html>
